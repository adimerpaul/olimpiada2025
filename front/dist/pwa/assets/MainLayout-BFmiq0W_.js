import{j as ae,k as c,l as _,m as _e,n as Q,p as lt,q as me,s as ee,v as be,x as rt,y as ue,z as we,A as ke,B as ye,C as ot,E as it,F as Ve,r as w,g as je,G as Fe,H as nt,I as q,J as ge,K as ut,L as st,M as Ne,O as ct,P as Me,R as dt,S as vt,T as ft,U as ht,V as pe,W as mt,X as bt,Y as yt,Z as gt,$ as Te,a0 as pt,a1 as Be,_ as zt,a2 as St,c as N,o as W,w as h,a as v,f as xe,a3 as wt,b as se,d as X,t as _t,a4 as Y,a5 as G,a6 as Ie,a7 as Ct}from"./index-CN-uetH6.js";import{Q as qt}from"./QSpace-DB2VCJo8.js";import{Q as J,a as T,b as Ot}from"./QItemLabel-MzcSpIQN.js";import{Q as Ae}from"./QList-BjPa_wBy.js";import{c as kt,b as L,Q as Mt}from"./format-DXGZH4md.js";import{Q as Tt}from"./QHeader-BXkZz1Vi.js";import{Q as Bt}from"./QBadge-ByTIFBC4.js";import{Q as $e,a as xt,b as It,c as At}from"./QLayout-BMziVmEo.js";import{C as $t}from"./ClosePopup-BTXc11S5.js";const Dt=ae({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:a}){const d=c(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>_("div",{class:d.value},_e(a.default))}}),Pt=ae({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:a}){const d=c(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>_("div",{class:d.value,role:"toolbar"},_e(a.default))}}),Qt=ae({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[_("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),_("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),Q(_("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),Q(_("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),Ce={left:!0,right:!0,up:!0,down:!0,horizontal:!0,vertical:!0},Lt=Object.keys(Ce);Ce.all=!0;function De(e){const a={};for(const d of Lt)e[d]===!0&&(a[d]=!0);return Object.keys(a).length===0?Ce:(a.horizontal===!0?a.left=a.right=!0:a.left===!0&&a.right===!0&&(a.horizontal=!0),a.vertical===!0?a.up=a.down=!0:a.up===!0&&a.down===!0&&(a.vertical=!0),a.horizontal===!0&&a.vertical===!0&&(a.all=!0),a)}const Et=["INPUT","TEXTAREA"];function Pe(e,a){return a.event===void 0&&e.target!==void 0&&e.target.draggable!==!0&&typeof a.handler=="function"&&Et.includes(e.target.nodeName.toUpperCase())===!1&&(e.qClonedBy===void 0||e.qClonedBy.indexOf(a.uid)===-1)}function ze(e,a,d){const S=we(e);let t,r=S.left-a.event.x,i=S.top-a.event.y,l=Math.abs(r),y=Math.abs(i);const m=a.direction;m.horizontal===!0&&m.vertical!==!0?t=r<0?"left":"right":m.horizontal!==!0&&m.vertical===!0?t=i<0?"up":"down":m.up===!0&&i<0?(t="up",l>y&&(m.left===!0&&r<0?t="left":m.right===!0&&r>0&&(t="right"))):m.down===!0&&i>0?(t="down",l>y&&(m.left===!0&&r<0?t="left":m.right===!0&&r>0&&(t="right"))):m.left===!0&&r<0?(t="left",l<y&&(m.up===!0&&i<0?t="up":m.down===!0&&i>0&&(t="down"))):m.right===!0&&r>0&&(t="right",l<y&&(m.up===!0&&i<0?t="up":m.down===!0&&i>0&&(t="down")));let u=!1;if(t===void 0&&d===!1){if(a.event.isFirst===!0||a.event.lastDir===void 0)return{};t=a.event.lastDir,u=!0,t==="left"||t==="right"?(S.left-=r,l=0,r=0):(S.top-=i,y=0,i=0)}return{synthetic:u,payload:{evt:e,touch:a.event.mouse!==!0,mouse:a.event.mouse===!0,position:S,direction:t,isFirst:a.event.isFirst,isFinal:d===!0,duration:Date.now()-a.event.time,distance:{x:l,y},offset:{x:r,y:i},delta:{x:S.left-a.event.lastX,y:S.top-a.event.lastY}}}}let Ht=0;const te=lt({name:"touch-pan",beforeMount(e,{value:a,modifiers:d}){if(d.mouse!==!0&&ee.has.touch!==!0)return;function S(r,i){d.mouse===!0&&i===!0?it(r):(d.stop===!0&&ye(r),d.prevent===!0&&ke(r))}const t={uid:"qvtp_"+Ht++,handler:a,modifiers:d,direction:De(d),noop:rt,mouseStart(r){Pe(r,t)&&ot(r)&&(ue(t,"temp",[[document,"mousemove","move","notPassiveCapture"],[document,"mouseup","end","passiveCapture"]]),t.start(r,!0))},touchStart(r){if(Pe(r,t)){const i=r.target;ue(t,"temp",[[i,"touchmove","move","notPassiveCapture"],[i,"touchcancel","end","passiveCapture"],[i,"touchend","end","passiveCapture"]]),t.start(r)}},start(r,i){if(ee.is.firefox===!0&&be(e,!0),t.lastEvt=r,i===!0||d.stop===!0){if(t.direction.all!==!0&&(i!==!0||t.modifiers.mouseAllDir!==!0&&t.modifiers.mousealldir!==!0)){const m=r.type.indexOf("mouse")!==-1?new MouseEvent(r.type,r):new TouchEvent(r.type,r);r.defaultPrevented===!0&&ke(m),r.cancelBubble===!0&&ye(m),Object.assign(m,{qKeyEvent:r.qKeyEvent,qClickOutside:r.qClickOutside,qAnchorHandled:r.qAnchorHandled,qClonedBy:r.qClonedBy===void 0?[t.uid]:r.qClonedBy.concat(t.uid)}),t.initialEvent={target:r.target,event:m}}ye(r)}const{left:l,top:y}=we(r);t.event={x:l,y,time:Date.now(),mouse:i===!0,detected:!1,isFirst:!0,isFinal:!1,lastX:l,lastY:y}},move(r){if(t.event===void 0)return;const i=we(r),l=i.left-t.event.x,y=i.top-t.event.y;if(l===0&&y===0)return;t.lastEvt=r;const m=t.event.mouse===!0,u=()=>{S(r,m);let C;d.preserveCursor!==!0&&d.preservecursor!==!0&&(C=document.documentElement.style.cursor||"",document.documentElement.style.cursor="grabbing"),m===!0&&document.body.classList.add("no-pointer-events--children"),document.body.classList.add("non-selectable"),kt(),t.styleCleanup=g=>{if(t.styleCleanup=void 0,C!==void 0&&(document.documentElement.style.cursor=C),document.body.classList.remove("non-selectable"),m===!0){const I=()=>{document.body.classList.remove("no-pointer-events--children")};g!==void 0?setTimeout(()=>{I(),g()},50):I()}else g!==void 0&&g()}};if(t.event.detected===!0){t.event.isFirst!==!0&&S(r,t.event.mouse);const{payload:C,synthetic:g}=ze(r,t,!1);C!==void 0&&(t.handler(C)===!1?t.end(r):(t.styleCleanup===void 0&&t.event.isFirst===!0&&u(),t.event.lastX=C.position.left,t.event.lastY=C.position.top,t.event.lastDir=g===!0?void 0:C.direction,t.event.isFirst=!1));return}if(t.direction.all===!0||m===!0&&(t.modifiers.mouseAllDir===!0||t.modifiers.mousealldir===!0)){u(),t.event.detected=!0,t.move(r);return}const k=Math.abs(l),z=Math.abs(y);k!==z&&(t.direction.horizontal===!0&&k>z||t.direction.vertical===!0&&k<z||t.direction.up===!0&&k<z&&y<0||t.direction.down===!0&&k<z&&y>0||t.direction.left===!0&&k>z&&l<0||t.direction.right===!0&&k>z&&l>0?(t.event.detected=!0,t.move(r)):t.end(r,!0))},end(r,i){if(t.event!==void 0){if(me(t,"temp"),ee.is.firefox===!0&&be(e,!1),i===!0)t.styleCleanup?.(),t.event.detected!==!0&&t.initialEvent!==void 0&&t.initialEvent.target.dispatchEvent(t.initialEvent.event);else if(t.event.detected===!0){t.event.isFirst===!0&&t.handler(ze(r===void 0?t.lastEvt:r,t).payload);const{payload:l}=ze(r===void 0?t.lastEvt:r,t,!0),y=()=>{t.handler(l)};t.styleCleanup!==void 0?t.styleCleanup(y):y()}t.event=void 0,t.initialEvent=void 0,t.lastEvt=void 0}}};if(e.__qtouchpan=t,d.mouse===!0){const r=d.mouseCapture===!0||d.mousecapture===!0?"Capture":"";ue(t,"main",[[e,"mousedown","mouseStart",`passive${r}`]])}ee.has.touch===!0&&ue(t,"main",[[e,"touchstart","touchStart",`passive${d.capture===!0?"Capture":""}`],[e,"touchmove","noop","notPassiveCapture"]])},updated(e,a){const d=e.__qtouchpan;d!==void 0&&(a.oldValue!==a.value&&(typeof value!="function"&&d.end(),d.handler=a.value),d.direction=De(a.modifiers))},beforeUnmount(e){const a=e.__qtouchpan;a!==void 0&&(a.event!==void 0&&a.end(),me(a,"main"),me(a,"temp"),ee.is.firefox===!0&&be(e,!1),a.styleCleanup?.(),delete e.__qtouchpan)}}),Qe=["vertical","horizontal"],Se={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Le={prevent:!0,mouse:!0,mouseAllDir:!0},Ee=e=>e>=250?50:Math.ceil(e/5),Vt=ae({name:"QScrollArea",props:{...Ve,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:a,emit:d}){const S=w(!1),t=w(!1),r=w(!1),i={vertical:w(0),horizontal:w(0)},l={vertical:{ref:w(null),position:w(0),size:w(0)},horizontal:{ref:w(null),position:w(0),size:w(0)}},{proxy:y}=je(),m=Fe(e,y.$q);let u=null,k;const z=w(null),C=c(()=>"q-scrollarea"+(m.value===!0?" q-scrollarea--dark":""));Object.assign(i,{verticalInner:c(()=>i.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:c(()=>i.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),l.vertical.percentage=c(()=>{const n=l.vertical.size.value-i.vertical.value;if(n<=0)return 0;const s=L(l.vertical.position.value/n,0,1);return Math.round(s*1e4)/1e4}),l.vertical.thumbHidden=c(()=>(e.visible===null?r.value:e.visible)!==!0&&S.value===!1&&t.value===!1||l.vertical.size.value<=i.vertical.value+1),l.vertical.thumbStart=c(()=>e.verticalOffset[0]+l.vertical.percentage.value*(i.verticalInner.value-l.vertical.thumbSize.value)),l.vertical.thumbSize=c(()=>Math.round(L(i.verticalInner.value*i.verticalInner.value/l.vertical.size.value,Ee(i.verticalInner.value),i.verticalInner.value))),l.vertical.style=c(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${l.vertical.thumbStart.value}px`,height:`${l.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),l.vertical.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.vertical.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(l.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),l.horizontal.percentage=c(()=>{const n=l.horizontal.size.value-i.horizontal.value;if(n<=0)return 0;const s=L(Math.abs(l.horizontal.position.value)/n,0,1);return Math.round(s*1e4)/1e4}),l.horizontal.thumbHidden=c(()=>(e.visible===null?r.value:e.visible)!==!0&&S.value===!1&&t.value===!1||l.horizontal.size.value<=i.horizontal.value+1),l.horizontal.thumbStart=c(()=>e.horizontalOffset[0]+l.horizontal.percentage.value*(i.horizontalInner.value-l.horizontal.thumbSize.value)),l.horizontal.thumbSize=c(()=>Math.round(L(i.horizontalInner.value*i.horizontalInner.value/l.horizontal.size.value,Ee(i.horizontalInner.value),i.horizontalInner.value))),l.horizontal.style=c(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[y.$q.lang.rtl===!0?"right":"left"]:`${l.horizontal.thumbStart.value}px`,width:`${l.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),l.horizontal.thumbClass=c(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),l.horizontal.barClass=c(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(l.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const g=c(()=>l.vertical.thumbHidden.value===!0&&l.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function I(){const n={};return Qe.forEach(s=>{const b=l[s];Object.assign(n,{[s+"Position"]:b.position.value,[s+"Percentage"]:b.percentage.value,[s+"Size"]:b.size.value,[s+"ContainerSize"]:i[s].value,[s+"ContainerInnerSize"]:i[s+"Inner"].value})}),n}const O=nt(()=>{const n=I();n.ref=y,d("scroll",n)},0);function p(n,s,b){if(Qe.includes(n)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(n==="vertical"?Me:ge)(z.value,s,b)}function le({height:n,width:s}){let b=!1;i.vertical.value!==n&&(i.vertical.value=n,b=!0),i.horizontal.value!==s&&(i.horizontal.value=s,b=!0),b===!0&&K()}function re({position:n}){let s=!1;l.vertical.position.value!==n.top&&(l.vertical.position.value=n.top,s=!0),l.horizontal.position.value!==n.left&&(l.horizontal.position.value=n.left,s=!0),s===!0&&K()}function oe({height:n,width:s}){l.horizontal.size.value!==s&&(l.horizontal.size.value=s,K()),l.vertical.size.value!==n&&(l.vertical.size.value=n,K())}function U(n,s){const b=l[s];if(n.isFirst===!0){if(b.thumbHidden.value===!0)return;k=b.position.value,t.value=!0}else if(t.value!==!0)return;n.isFinal===!0&&(t.value=!1);const $=Se[s],P=(b.size.value-i[s].value)/(i[s+"Inner"].value-b.thumbSize.value),D=n.distance[$.dist],Z=k+(n.direction===$.dir?1:-1)*D*P;ie(Z,s)}function E(n,s){const b=l[s];if(b.thumbHidden.value!==!0){const $=s==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],P=n[Se[s].offset]-$,D=b.thumbStart.value-$;if(P<D||P>D+b.thumbSize.value){const Z=P-b.thumbSize.value/2,ce=L(Z/(i[s+"Inner"].value-b.thumbSize.value),0,1);ie(ce*Math.max(0,b.size.value-i[s].value),s)}b.ref.value!==null&&b.ref.value.dispatchEvent(new MouseEvent(n.type,n))}}function K(){S.value=!0,u!==null&&clearTimeout(u),u=setTimeout(()=>{u=null,S.value=!1},e.delay),e.onScroll!==void 0&&O()}function ie(n,s){z.value[Se[s].scroll]=n}let B=null;function A(){B!==null&&clearTimeout(B),B=setTimeout(()=>{B=null,r.value=!0},y.$q.platform.is.ios?50:0)}function H(){B!==null&&(clearTimeout(B),B=null),r.value=!1}let R=null;q(()=>y.$q.lang.rtl,n=>{z.value!==null&&ge(z.value,Math.abs(l.horizontal.position.value)*(n===!0?-1:1))}),ut(()=>{R={top:l.vertical.position.value,left:l.horizontal.position.value}}),st(()=>{if(R===null)return;const n=z.value;n!==null&&(ge(n,R.left),Me(n,R.top))}),Ne(O.cancel),Object.assign(y,{getScrollTarget:()=>z.value,getScroll:I,getScrollPosition:()=>({top:l.vertical.position.value,left:l.horizontal.position.value}),getScrollPercentage:()=>({top:l.vertical.percentage.value,left:l.horizontal.percentage.value}),setScrollPosition:p,setScrollPercentage(n,s,b){p(n,s*(l[n].size.value-i[n].value)*(n==="horizontal"&&y.$q.lang.rtl===!0?-1:1),b)}});const V={scroll:l,thumbVertDir:[[te,n=>{U(n,"vertical")},void 0,{vertical:!0,...Le}]],thumbHorizDir:[[te,n=>{U(n,"horizontal")},void 0,{horizontal:!0,...Le}]],onVerticalMousedown(n){E(n,"vertical")},onHorizontalMousedown(n){E(n,"horizontal")}};return()=>_("div",{class:C.value,onMouseenter:A,onMouseleave:H},[_("div",{ref:z,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[_("div",{class:"q-scrollarea__content absolute",style:g.value},ct(a.default,[_($e,{debounce:0,onResize:oe})])),_(xt,{axis:"both",onScroll:re})]),_($e,{debounce:0,onResize:le}),_(Qt,{store:V,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),He=150,jt=ae({name:"QDrawer",inheritAttrs:!1,props:{...vt,...Ve,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...dt,"onLayout","miniState"],setup(e,{slots:a,emit:d,attrs:S}){const t=je(),{proxy:{$q:r}}=t,i=Fe(e,r),{preventBodyScroll:l}=gt(),{registerTimeout:y,removeTimeout:m}=ft(),u=ht(mt,pe);if(u===pe)return console.error("QDrawer needs to be child of QLayout"),pe;let k,z=null,C;const g=w(e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint),I=c(()=>e.mini===!0&&g.value!==!0),O=c(()=>I.value===!0?e.miniWidth:e.width),p=w(e.showIfAbove===!0&&g.value===!1?!0:e.modelValue===!0),le=c(()=>e.persistent!==!0&&(g.value===!0||Z.value===!0));function re(o,f){if(K(),o!==!1&&u.animate(),x(0),g.value===!0){const M=u.instances[b.value];M?.belowBreakpoint===!0&&M.hide(!1),j(1),u.isContainer.value!==!0&&l(!0)}else j(0),o!==!1&&ve(!1);y(()=>{o!==!1&&ve(!0),f!==!0&&d("show",o)},He)}function oe(o,f){ie(),o!==!1&&u.animate(),j(0),x(H.value*O.value),fe(),f!==!0?y(()=>{d("hide",o)},He):m()}const{show:U,hide:E}=bt({showing:p,hideOnRouteChange:le,handleShow:re,handleHide:oe}),{addToHistory:K,removeFromHistory:ie}=yt(p,E,le),B={belowBreakpoint:g,hide:E},A=c(()=>e.side==="right"),H=c(()=>(r.lang.rtl===!0?-1:1)*(A.value===!0?1:-1)),R=w(0),V=w(!1),n=w(!1),s=w(O.value*H.value),b=c(()=>A.value===!0?"left":"right"),$=c(()=>p.value===!0&&g.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:O.value:0),P=c(()=>e.overlay===!0||e.miniToOverlay===!0||u.view.value.indexOf(A.value?"R":"L")!==-1||r.platform.is.ios===!0&&u.isContainer.value===!0),D=c(()=>e.overlay===!1&&p.value===!0&&g.value===!1),Z=c(()=>e.overlay===!0&&p.value===!0&&g.value===!1),ce=c(()=>"fullscreen q-drawer__backdrop"+(p.value===!1&&V.value===!1?" hidden":"")),We=c(()=>({backgroundColor:`rgba(0,0,0,${R.value*.4})`})),qe=c(()=>A.value===!0?u.rows.value.top[2]==="r":u.rows.value.top[0]==="l"),Re=c(()=>A.value===!0?u.rows.value.bottom[2]==="r":u.rows.value.bottom[0]==="l"),Xe=c(()=>{const o={};return u.header.space===!0&&qe.value===!1&&(P.value===!0?o.top=`${u.header.offset}px`:u.header.space===!0&&(o.top=`${u.header.size}px`)),u.footer.space===!0&&Re.value===!1&&(P.value===!0?o.bottom=`${u.footer.offset}px`:u.footer.space===!0&&(o.bottom=`${u.footer.size}px`)),o}),Ye=c(()=>{const o={width:`${O.value}px`,transform:`translateX(${s.value}px)`};return g.value===!0?o:Object.assign(o,Xe.value)}),Ue=c(()=>"q-drawer__content fit "+(u.isContainer.value!==!0?"scroll":"overflow-auto")),Ke=c(()=>`q-drawer q-drawer--${e.side}`+(n.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(i.value===!0?" q-drawer--dark q-dark":"")+(V.value===!0?" no-transition":p.value===!0?"":" q-layout--prevent-focus")+(g.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${I.value===!0?"mini":"standard"}`+(P.value===!0||D.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(qe.value===!0?" q-drawer--top-padding":""))),Ge=c(()=>{const o=r.lang.rtl===!0?e.side:b.value;return[[te,tt,void 0,{[o]:!0,mouse:!0}]]}),Je=c(()=>{const o=r.lang.rtl===!0?b.value:e.side;return[[te,Oe,void 0,{[o]:!0,mouse:!0}]]}),Ze=c(()=>{const o=r.lang.rtl===!0?b.value:e.side;return[[te,Oe,void 0,{[o]:!0,mouse:!0,mouseAllDir:!0}]]});function de(){at(g,e.behavior==="mobile"||e.behavior!=="desktop"&&u.totalWidth.value<=e.breakpoint)}q(g,o=>{o===!0?(k=p.value,p.value===!0&&E(!1)):e.overlay===!1&&e.behavior!=="mobile"&&k!==!1&&(p.value===!0?(x(0),j(0),fe()):U(!1))}),q(()=>e.side,(o,f)=>{u.instances[f]===B&&(u.instances[f]=void 0,u[f].space=!1,u[f].offset=0),u.instances[o]=B,u[o].size=O.value,u[o].space=D.value,u[o].offset=$.value}),q(u.totalWidth,()=>{(u.isContainer.value===!0||document.qScrollPrevented!==!0)&&de()}),q(()=>e.behavior+e.breakpoint,de),q(u.isContainer,o=>{p.value===!0&&l(o!==!0),o===!0&&de()}),q(u.scrollbarWidth,()=>{x(p.value===!0?0:void 0)}),q($,o=>{F("offset",o)}),q(D,o=>{d("onLayout",o),F("space",o)}),q(A,()=>{x()}),q(O,o=>{x(),he(e.miniToOverlay,o)}),q(()=>e.miniToOverlay,o=>{he(o,O.value)}),q(()=>r.lang.rtl,()=>{x()}),q(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(et(),u.animate())}),q(I,o=>{d("miniState",o)});function x(o){o===void 0?Te(()=>{o=p.value===!0?0:O.value,x(H.value*o)}):(u.isContainer.value===!0&&A.value===!0&&(g.value===!0||Math.abs(o)===O.value)&&(o+=H.value*u.scrollbarWidth.value),s.value=o)}function j(o){R.value=o}function ve(o){const f=o===!0?"remove":u.isContainer.value!==!0?"add":"";f!==""&&document.body.classList[f]("q-body--drawer-toggle")}function et(){z!==null&&clearTimeout(z),t.proxy&&t.proxy.$el&&t.proxy.$el.classList.add("q-drawer--mini-animate"),n.value=!0,z=setTimeout(()=>{z=null,n.value=!1,t?.proxy?.$el?.classList.remove("q-drawer--mini-animate")},150)}function tt(o){if(p.value!==!1)return;const f=O.value,M=L(o.distance.x,0,f);if(o.isFinal===!0){M>=Math.min(75,f)===!0?U():(u.animate(),j(0),x(H.value*f)),V.value=!1;return}x((r.lang.rtl===!0?A.value!==!0:A.value)?Math.max(f-M,0):Math.min(0,M-f)),j(L(M/f,0,1)),o.isFirst===!0&&(V.value=!0)}function Oe(o){if(p.value!==!0)return;const f=O.value,M=o.direction===e.side,ne=(r.lang.rtl===!0?M!==!0:M)?L(o.distance.x,0,f):0;if(o.isFinal===!0){Math.abs(ne)<Math.min(75,f)===!0?(u.animate(),j(1),x(0)):E(),V.value=!1;return}x(H.value*ne),j(L(1-ne/f,0,1)),o.isFirst===!0&&(V.value=!0)}function fe(){l(!1),ve(!0)}function F(o,f){u.update(e.side,o,f)}function at(o,f){o.value!==f&&(o.value=f)}function he(o,f){F("size",o===!0?e.miniWidth:f)}return u.instances[e.side]=B,he(e.miniToOverlay,O.value),F("space",D.value),F("offset",$.value),e.showIfAbove===!0&&e.modelValue!==!0&&p.value===!0&&e["onUpdate:modelValue"]!==void 0&&d("update:modelValue",!0),pt(()=>{d("onLayout",D.value),d("miniState",I.value),k=e.showIfAbove===!0;const o=()=>{(p.value===!0?re:oe)(!1,!0)};if(u.totalWidth.value!==0){Te(o);return}C=q(u.totalWidth,()=>{C(),C=void 0,p.value===!1&&e.showIfAbove===!0&&g.value===!1?U(!1):o()})}),Ne(()=>{C?.(),z!==null&&(clearTimeout(z),z=null),p.value===!0&&fe(),u.instances[e.side]===B&&(u.instances[e.side]=void 0,F("size",0),F("offset",0),F("space",!1))}),()=>{const o=[];g.value===!0&&(e.noSwipeOpen===!1&&o.push(Q(_("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),Ge.value)),o.push(Be("div",{ref:"backdrop",class:ce.value,style:We.value,"aria-hidden":"true",onClick:E},void 0,"backdrop",e.noSwipeBackdrop!==!0&&p.value===!0,()=>Ze.value)));const f=I.value===!0&&a.mini!==void 0,M=[_("div",{...S,key:""+f,class:[Ue.value,S.class]},f===!0?a.mini():_e(a.default))];return e.elevated===!0&&p.value===!0&&M.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),o.push(Be("aside",{ref:"content",class:Ke.value,style:Ye.value},M,"contentclose",e.noSwipeClose!==!0&&g.value===!0,()=>Je.value)),_("div",{class:"q-drawer-container"},o)}}}),Ft={name:"MainLayout",data(){return{leftDrawerOpen:!1,inscritosCount:0}},computed:{user(){return this.$store&&this.$store.user?this.$store.user:{}},year(){return new Date().getFullYear()},inscritosBadge(){return this.inscritosCount>99?"99+":this.inscritosCount}},created(){this.fetchInscritosCount()},methods:{toggleLeftDrawer(){this.leftDrawerOpen=!this.leftDrawerOpen},async fetchInscritosCount(){try{const{data:e}=await this.$axios.get("/inscritosCount");this.inscritosCount=e&&typeof e.count=="number"?e.count:0}catch{this.inscritosCount=0}},async logout(){try{await this.$axios.post("/logout")}catch{}localStorage.removeItem("tokenOlim"),this.$axios&&this.$axios.defaults?.headers?.common&&delete this.$axios.defaults.headers.common.Authorization,this.$store&&(this.$store.isLogged=!1,this.$store.user={},this.$store.permissions=[]),this.$q.notify({type:"info",message:"Sesión cerrada"}),this.$router.replace("/login")}}},Nt={class:"ellipsis"};function Wt(e,a,d,S,t,r){const i=St("router-view");return W(),N(At,{view:"lHh Lpr lFf"},{default:h(()=>[v(Tt,{elevated:"",class:"bg-primary text-white"},{default:h(()=>[v(Pt,null,{default:h(()=>[v(xe,{flat:"",round:"",dense:"",icon:"menu",onClick:r.toggleLeftDrawer,"aria-label":"Menú"},null,8,["onClick"]),v(wt,{square:"",size:"32px",class:"q-ml-sm"},{default:h(()=>a[1]||(a[1]=[se("img",{src:"images.png"},null,-1)])),_:1,__:[1]}),v(Dt,null,{default:h(()=>a[2]||(a[2]=[se("div",{class:"text-subtitle2 text-caption"},"VIII OLIMPIADA",-1),se("div",{class:"text-weight-bold text-caption",style:{"line-height":"1"}},"CIENCIA Y TECNOLOGÍA F.N.I.",-1)])),_:1,__:[2]}),v(qt),v(xe,{flat:"",dense:"","no-caps":""},{default:h(()=>[v(X,{name:"account_circle",size:"24px",class:"q-mr-xs"}),se("span",Nt,_t(r.user.name||"Usuario"),1),v(Mt,{"transition-show":"jump-down","transition-hide":"jump-up"},{default:h(()=>[v(Ae,{style:{"min-width":"200px"}},{default:h(()=>[Q((W(),N(J,{clickable:"",to:"/perfil"},{default:h(()=>[v(T,{avatar:""},{default:h(()=>[v(X,{name:"person"})]),_:1}),v(T,null,{default:h(()=>a[3]||(a[3]=[Y("Mi perfil")])),_:1,__:[3]})]),_:1})),[[G],[$t]]),v(Ie),Q((W(),N(J,{clickable:"",onClick:r.logout},{default:h(()=>[v(T,{avatar:""},{default:h(()=>[v(X,{name:"logout"})]),_:1}),v(T,null,{default:h(()=>a[4]||(a[4]=[Y("Cerrar sesión")])),_:1,__:[4]})]),_:1},8,["onClick"])),[[G]])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),v(jt,{modelValue:t.leftDrawerOpen,"onUpdate:modelValue":a[0]||(a[0]=l=>t.leftDrawerOpen=l),"show-if-above":"",bordered:"",width:240,class:"bg-primary"},{default:h(()=>[v(Vt,{style:{height:"100%"}},{default:h(()=>[v(Ae,{padding:"",class:"text-white"},{default:h(()=>[v(Ot,{header:"",class:"text-white q-pt-md q-pl-sm"},{default:h(()=>a[5]||(a[5]=[Y("Menú")])),_:1,__:[5]}),Q((W(),N(J,{clickable:"",to:"/menu",exact:"",class:"drawer-item","exact-active-class":"drawer-active"},{default:h(()=>[v(T,{avatar:""},{default:h(()=>[v(X,{name:"dashboard"})]),_:1}),v(T,null,{default:h(()=>a[6]||(a[6]=[Y("Panel")])),_:1,__:[6]})]),_:1})),[[G]]),Q((W(),N(J,{clickable:"",to:"/inscritos",exact:"",class:"drawer-item","exact-active-class":"drawer-active"},{default:h(()=>[v(T,{avatar:""},{default:h(()=>[v(X,{name:"list_alt"})]),_:1}),v(T,null,{default:h(()=>a[7]||(a[7]=[Y("Inscritos")])),_:1,__:[7]}),t.inscritosCount>0?(W(),N(T,{key:0,side:""},{default:h(()=>[v(Bt,{color:"white","text-color":"primary",label:r.inscritosBadge},null,8,["label"])]),_:1})):Ct("",!0)]),_:1})),[[G]]),Q((W(),N(J,{clickable:"",to:"/areas",exact:"",class:"drawer-item","exact-active-class":"drawer-active"},{default:h(()=>[v(T,{avatar:""},{default:h(()=>[v(X,{name:"school"})]),_:1}),v(T,null,{default:h(()=>a[8]||(a[8]=[Y("Áreas")])),_:1,__:[8]})]),_:1})),[[G]]),v(Ie,{spaced:"",color:"white",class:"q-mx-md"}),Q((W(),N(J,{clickable:"",class:"drawer-item",onClick:r.logout},{default:h(()=>[v(T,{avatar:""},{default:h(()=>[v(X,{name:"logout"})]),_:1}),v(T,null,{default:h(()=>a[9]||(a[9]=[Y("Cerrar sesión")])),_:1,__:[9]})]),_:1},8,["onClick"])),[[G]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),v(It,null,{default:h(()=>[v(i)]),_:1})]),_:1})}const aa=zt(Ft,[["render",Wt],["__scopeId","data-v-cc4dd84a"]]);export{aa as default};
